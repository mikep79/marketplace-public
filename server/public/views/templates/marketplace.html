<div ng-include="'views/partials/nav.html'" ng-init="mc.getMarketItems()"></div>
<div class="container">
  <div class="content">
    <h3 id="welcome" class="lead">Welcome, {{mc.userObject.userName}}! You have {{mc.userObject.money | currency : $}} to spend.</h3>
    <p>
      High score: {{ mc.scoreObject.data[0].name }}, {{ mc.scoreObject.data[0].score | currency: $ }}
    </p>
    <!-- <button ng-click="mc.postScore(mc.userObject.money)">Post score</button>
    <button ng-click="mc.showScore()">Display score</button> -->
    <div id="items-container">
      <div class="item-block" ng-repeat='item in mc.marketItems.data'>
        <!-- <p>{{item.name}}</p> -->
        <div class="item-cost-block">
          <div class="item-cost">{{item.cost | currency : $}}</div>
        </div>
        <div class="itemPicBlock">
          <img class="itemPic" ng-src="images/{{ item.name }}.png" />
        </div>
        <div class="tradeBtnBlock">
          <span class="tradeBtnContent">
            <button class="tradeBtn" ng-click="mc.buyFruit(item.cost, item.id)">Buy</button>
            <button class="tradeBtn" ng-click="mc.sellFruit(item.cost, item.id)">Sell</button>
          </span>
        </div>
        <div class="quantityBlock">
          <div class="quantity">
            {{ mc.quantity[item.id] }}
          </div>
        </div>
        <div class="averageBlock">
          <div class="average">
            Average Price: {{ mc.average[item.id] | currency }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>